(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fab51d4"],{"0073":function(t,e,s){},3458:function(t,e,s){"use strict";var a=s("0073"),i=s.n(a);i.a},"5ae5":function(t,e,s){},"64e7":function(t,e,s){"use strict";var a=s("5ae5"),i=s.n(a);i.a},bb51:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ShipsList")},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{staticClass:"flex-column"},[s("b-col",[s("div",{staticClass:"d-flex mb-3"},[s("b-input-group",{staticClass:"mt-3"},[s("b-form-input",{attrs:{placeholder:"Search"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),s("b-input-group-append",[s("b-button",{on:{click:t.search}},[t._v("Search")])],1)],1)],1)]),s("b-col",[t.$store.state.isLoading?s("div",{staticClass:"text-center"},[s("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1):s("b-card-group",{staticClass:"justify-content-center",attrs:{deck:""}},t._l(t.ships.results,function(t,e){return s("ShipCard",{key:e,attrs:{item:t}})}),1)],1),s("b-col",[t.ships?s("div",{staticClass:"pagination-block text-center"},[s("b-button",{staticClass:"mr-3",attrs:{disabled:!t.ships.previous},on:{click:function(e){return t.prevPage()}}},[t._v("Prev")]),s("b-button",{attrs:{disabled:!t.ships.next},on:{click:function(e){return t.nextPage()}}},[t._v("Next")])],1):t._e()])],1)},n=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{staticClass:"ship-card mb-3",staticStyle:{"max-width":"250px","min-width":"250px"},attrs:{tag:"article"},on:{click:t.openDetails}},[s("b-card-text",[t._v(t._s(t.item.name))])],1)},o=[],h={name:"shipCard",props:{item:Object},methods:{openDetails:function(){var t=this.item.url.split("/"),e=t[t.length-2];this.$router.push({name:"StarshipDetails",params:{id:e}})}}},u=h,l=(s("3458"),s("2877")),p=Object(l["a"])(u,c,o,!1,null,"555389e8",null),d=p.exports,m={name:"shipsList",data:function(){return{ships:[],searchValue:""}},created:function(){var t={};this.$route.query&&this.$route.query.search&&(t.isSearch=!0,t.queryValue=this.$route.query.search),this.doFetch(t)},methods:{search:function(){this.searchValue?this.searchValue!==this.$route.query.search&&(this.$router.replace({name:"Home",query:{search:this.searchValue}}),this.doFetch({isSearch:!0})):""===this.searchValue&&this.$route.query.search&&(this.$router.push({name:"Home",query:!1}),this.doFetch({isSearch:!1}))},doFetch:function(t){var e=this,s="https://swapi.co/api/starships";t&&(t.link?s=t.link:t.isSearch&&(t.queryValue&&(this.searchValue=t.queryValue),s="https://swapi.co/api/starships/?search=".concat(this.searchValue))),this.$store.commit("setLoading",!0),this.axios.get(s).then(function(t){e.ships=t.data,e.$store.commit("setLoading",!1)}).catch(function(t){console.log(t)})},prevPage:function(){this.ships.previous&&this.doFetch({link:this.ships.previous})},nextPage:function(){this.ships.next&&this.doFetch({link:this.ships.next})}},components:{ShipCard:d}},b=m,f=(s("64e7"),Object(l["a"])(b,r,n,!1,null,null,null)),v=f.exports,x={name:"home",components:{ShipsList:v}},k=x,y=Object(l["a"])(k,a,i,!1,null,null,null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-6fab51d4.8eddd0e2.js.map